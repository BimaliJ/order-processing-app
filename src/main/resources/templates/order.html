<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Order Management</title>
    <style>
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid #ccc; padding: 8px; }
        form { margin-bottom: 20px; }
    </style>
</head>
<body>

<h2>Create Order</h2>
<form method="post" th:action="@{/ui/orders}">
    Customer: <input name="customerName" required />
    Product: <input name="product" required />
    Qty: <input name="quantity" type="number" required />
    <button type="submit">Create</button>
</form>

<hr/>

<h2>Search Orders</h2>
<form method="get" th:action="@{/ui/orders}">
    Status:
    <select name="status">
        <option value="">ALL</option>
        <option th:each="s : ${T(your.pkg.OrderStatus).values()}"
                th:value="${s}"
                th:text="${s}"
                th:selected="${s == status}">
        </option>
    </select>
    <button type="submit">Search</button>
</form>

<hr/>

<h2>Orders</h2>
<table>
    <tr>
        <th>ID</th>
        <th>Customer</th>
        <th>Product</th>
        <th>Qty</th>
        <th>Status</th>
        <th>Update</th>
    </tr>

    <tr th:each="order : ${orders.content}">
        <td th:text="${order.id}"></td>
        <td th:text="${order.customerName}"></td>
        <td th:text="${order.product}"></td>
        <td th:text="${order.quantity}"></td>
        <td th:text="${order.status}"></td>
        <td>
            <form method="post"
                  th:action="@{/ui/orders/{id}/status(id=${order.id})}">
                <select name="status">
                    <option th:each="s : ${T(your.pkg.OrderStatus).values()}"
                            th:value="${s}"
                            th:text="${s}">
                    </option>
                </select>
                <button type="submit">Update</button>
            </form>
        </td>
    </tr>
</table>

<hr/>

<h3>Pagination</h3>
<div>
    <a th:if="${orders.hasPrevious()}"
       th:href="@{/ui/orders(page=${orders.number - 1}, status=${status})}">
        Previous
    </a>

    Page <span th:text="${orders.number + 1}"></span>
    of <span th:text="${orders.totalPages}"></span>

    <a th:if="${orders.hasNext()}"
       th:href="@{/ui/orders(page=${orders.number + 1}, status=${status})}">
        Next
    </a>
</div>

</body>
</html>
